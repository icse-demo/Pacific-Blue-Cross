<!DOCTYPE html>
<html lang="en">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
   <head>
      <meta charset="utf-8">
      <title>Sign In - Pacific Blue Cross</title>
      <base href="/">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <style type="text/css">

@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap');

.toast-message {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: #333;
  color: #fff;
  padding: 12px 24px;
  border-radius: 8px;
  font-family: sans-serif;
  z-index: 1000;
  animation: fadeInOut 3s forwards;
}

@keyframes fadeInOut {
  0% { opacity: 0; bottom: 10px; }
  15% { opacity: 1; bottom: 20px; }
  85% { opacity: 1; bottom: 20px; }
  100% { opacity: 0; bottom: 10px; }
}

#loading-container {
    display: flex;
    justify-content: center;
    align-items: center;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #ffffff;
    z-index: 9999;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.5s ease, visibility 0.5s ease;
}

#loading-container.show {
    opacity: 1;
    visibility: visible;
}

@keyframes gradientBG {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.loading-box {
    text-align: center;
    padding: 40px 50px;
    background: #ffffff;
    border-radius: 20px;
    box-shadow: 0 8px 32px 0 rgba(100, 82, 255, 0.2);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid #6452ff;
}

.loader {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 60px;
    margin-bottom: 20px;
}

.loader span {
    display: inline-block;
    width: 15px;
    height: 15px;
    margin: 0 7px;
    background-color: #1E0057;
    border-radius: 50%;
    animation: pulse 1.4s infinite ease-in-out both;
}

.loader span:nth-child(1) { animation-delay: -0.32s; }
.loader span:nth-child(2) { animation-delay: -0.16s; }

@keyframes pulse {
    0%, 80%, 100% { transform: scale(0.2); opacity: 0.5; }
    40% { transform: scale(1.0); opacity: 1; }
}

#loading-message {
    color: #1E0057;
    font-size: 1.1em;
    letter-spacing: 1px;
    font-weight: 300;
    min-height: 2em;
    transition: opacity 0.5s ease-in-out;
    opacity: 1;
}

#loading-message.fade-out {
    opacity: 0;
}

.progress-bar-container {
    width: 100%;
    height: 10px;
    background-color: #6452ff;
    border-radius: 25px;
    margin-bottom: 25px;
    overflow: hidden;
}

.progress-bar {
    width: 0%;
    height: 100%;
    background-color: #1E0057;
    border-radius: 25px;
    transition: width 0.4s ease-in-out;
}

  #iframe-container {
    width: 1000px;
    margin: 40px auto;
    padding: 15px;
    background-color: #1E0057;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(100, 82, 255, 0.3);
    display: none;
  }


        #submit-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;

            background-image: linear-gradient(45deg, #7A57D4 0%, #1E0057 100%);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 14px 32px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(100, 82, 255, 0.3);

            transition: all 0.25s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        #submit-button:not(:disabled):hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(100, 82, 255, 0.3);
        }

        #submit-button:not(:disabled):active {
            transform: translateY(1px);
            box-shadow: 0 2px 10px rgba(100, 82, 255, 0.3);
        }

        #submit-button:disabled {
            background-image: none;
            background-color: #a0aec0;
            color: #e2e8f0;

            cursor: not-allowed;
            box-shadow: none;
            filter: grayscale(50%);
            transform: none;
        }

  #signature-iframe {
    display: block;
    width: 100%;
    height: 700px;
    border: none;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }
         body, html {
         margin: 0;
         height: 100%;
         }
         .app-loading {
         position: relative;
         display: flex;
         flex-direction: column;
         align-items: center;
         justify-content: center;
         height: 100%;
         background-repeat: no-repeat;
         background-position: center 110px;
         }
         .app-loading img {
         width: 350px;
         width: clamp(200px, 70vw, 350px);
         animation: 1.5s infinite beatHeart;
         }
         @keyframes beatHeart {
         0% {
         transform: scale(1);
         }
         10% {
         transform: scale(1.03);
         }
         15% {
         transform: scale(1.015);
         }
         25% {
         transform: scale(1.05);
         }
         100% {
         transform: scale(1);
         }
         }
      </style>
      

  <style>
 .unruly-new-design-wrapper[_ngcontent-ng-c459825792]{
    min-height:100%;
    background-size:cover;
    display:grid;
    grid-template-rows:auto 1fr
}
.unruly-new-design-wrapper[_ngcontent-ng-c459825792] .card-wrapper[_ngcontent-ng-c459825792] nz-card[_ngcontent-ng-c459825792]{
    width:350px
}
.unruly-new-design-wrapper[_ngcontent-ng-c459825792] .ant-layout-footer[_ngcontent-ng-c459825792]{
    margin-top:auto;
    text-align:right;
    justify-content:flex-end;
    color:#738291;
    font-size:16px;
    padding:0 36px 36px 0
}
.logo-wrapper[_ngcontent-ng-c459825792]{
    width:calc(350px / 1.8);
    padding-block:5rem 1.5rem
}
.welcome-msg[_ngcontent-ng-c459825792]{
    display:flex;
    flex-direction:column;
    align-items:center;
    margin-bottom:1.5rem;
    font-size:16px
}
.login-container[_ngcontent-ng-c459825792]{
    flex-direction:column
}
.login-container[_ngcontent-ng-c459825792] i[_ngcontent-ng-c459825792]{
    cursor:pointer
}
nz-footer[_ngcontent-ng-c459825792]{
    text-align:center;
    background:none
}
.ant-row[_ngcontent-ng-c459825792]:last-child{
    margin-bottom:0
}
.auth-sub-component[_ngcontent-ng-c459825792] .request-instructions[_ngcontent-ng-c459825792]{
    margin-block:1rem 0
}
.primary-button[_ngcontent-ng-c459825792]{
    font-size:16px;
    height:2.75rem;
    margin-top:.5rem
}
.underlined-link-button[_ngcontent-ng-c459825792]{
    color:#adb4bd;
    text-decoration-color:#adb4bd
}
.underlined-link-button[_ngcontent-ng-c459825792]:hover{
    color:#fff;
    text-decoration-color:#fff
}
.auth-links[_ngcontent-ng-c459825792]{
    display:flex;
    flex-direction:column;
    gap:6px;
    margin-top:1.5rem
}
.auth-links[_ngcontent-ng-c459825792] .underlined-link-button[_ngcontent-ng-c459825792]{
    margin-bottom:3px;
    color:#98a0ac;
    text-decoration-color:#98a0ac;
    font-size:12px;
    font-family:OpenSans SemiBold;
    align-self:flex-start
}
.auth-links[_ngcontent-ng-c459825792] .underlined-link-button[_ngcontent-ng-c459825792]:hover{
    color:#404c71;
    text-decoration-color:#404c71
}
@media all and (min-width: 1440px){
    .logo-wrapper[_ngcontent-ng-c459825792]{
        padding-block:6rem 1.5rem
    }
}
@media all and (min-width: 1920px){
    .logo-wrapper[_ngcontent-ng-c459825792]{
        padding-block:7rem 1.5rem
    }
}
nz-card[_ngcontent-ng-c459825792] .ant-card-head{
    margin-bottom:.5rem;
    font-family:OpenSans SemiBold
}
nz-card[_ngcontent-ng-c459825792] .ant-card-head .ant-card-head-title{
    padding:0
}
nz-card[_ngcontent-ng-c459825792] .ant-card-body form{
    padding-top:1rem
}
nz-card[_ngcontent-ng-c459825792] .ant-card-body nz-form-label{
    padding-bottom:0
}
nz-card[_ngcontent-ng-c459825792] .ant-card-body input{
    height:2.75rem
}
nz-card[_ngcontent-ng-c459825792] .ant-card-body nz-input-group{
    align-items:center
}
.unruly-new-design-wrapper[_ngcontent-ng-c459825792] {
  background-image: url('/pacific_blue_cross.png') !important;
}
  </style>
   </head>
   <body>
      <app-root ng-version="16.1.3">
         <noscript><iframe sandbox="allow-scripts" srcdoc="<!DOCTYPE html><html lang=&quot;en&quot;><head><base href=&quot;https://www.googletagmanager.com/ns.html?id=GTM-N3F2VDM&quot;>
            <meta charset=&quot;utf-8&quot;>
            <title>ns</title>
            <style id=&quot;savepage-cssvariables&quot;>
            :root {
            }
            </style>
            </head>
            <body>
            </body></html>" data-savepage-crossorigin="" title="googleTag" height="0" width="0" style="display: none; visibility: hidden;" data-savepage-src="https://www.googletagmanager.com/ns.html?id=GTM-N3F2VDM" src="" data-savepage-key="0-0"></iframe></noscript>
         <router-outlet></router-outlet>
         <app-auth _nghost-ng-c459825792="" class="ng-star-inserted">
            <div _ngcontent-ng-c459825792="" class="unruly-new-design-wrapper">
               <div _ngcontent-ng-c459825792="" nz-row="" nzjustify="space-around" nzalign="middle" class="ant-row login-container ant-row-middle ant-row-space-around">
                  <div _ngcontent-ng-c459825792="" class="logo-wrapper">
                  </div>
                  <div _ngcontent-ng-c459825792="" class="card-wrapper" id="sign-in-card" style="display:none">
                     <nz-card _ngcontent-ng-c459825792="" class="ant-card ant-card-bordered">
                        <!----><!---->
                        <div class="ant-card-body">
                           <div _ngcontent-ng-c459825792="" class="semibold-font font-size-large-header font-icon-color-primary-black margin-bottom-small ng-star-inserted">Sign In</div>
                           <router-outlet _ngcontent-ng-c459825792="" class="ng-star-inserted"></router-outlet>
                           <ng-component _nghost-ng-c1980984568="" class="ng-star-inserted">
                              <nz-spin _ngcontent-ng-c1980984568="" nztip="Logging you in..." class="ant-spin-nested-loading">
                                 <!----><!---->
                                 <div class="ant-spin-container ng-star-inserted">
                                    <form _ngcontent-ng-c1980984568="" novalidate="" nz-form="" nzlayout="vertical" class="ant-form ng-untouched ng-pristine ng-invalid ant-form-vertical">
                                       <nz-form-item _ngcontent-ng-c1980984568="" class="ant-form-item ant-row">
                                          <nz-form-label _ngcontent-ng-c1980984568="" class="ant-form-item-label ant-col">
                                             <label class="ant-form-item-required">
                                                Email address<!---->
                                             </label>
                                          </nz-form-label>
                                          <nz-form-control _ngcontent-ng-c1980984568="" class="ant-form-item-control ng-tns-c630436078-0 ant-col ng-star-inserted">
                                             <div class="ant-form-item-control-input ng-tns-c630436078-0">
                                                <div class="ant-form-item-control-input-content ng-tns-c630436078-0">
                                                   <!---->
                                                   <nz-input-group _ngcontent-ng-c1980984568="" nzsize="large" class="ng-tns-c630436078-0 ant-input-affix-wrapper ant-input-affix-wrapper-lg">
                                                      <span nz-input-group-slot="" type="prefix" class="ant-input-prefix ng-star-inserted">
                                                         <!---->
                                                         <em _ngcontent-ng-c1980984568="" nz-icon="" nztype="user" class="anticon anticon-user ng-star-inserted">
                                                            <svg viewBox="64 64 896 896" focusable="false" fill="currentColor" width="1em" height="1em" data-icon="user" aria-hidden="true">
                                                               <path d="M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"></path>
                                                            </svg>
                                                         </em>
                                                         <!---->
                                                      </span>
                                                      <!----><input id="email-address" _ngcontent-ng-c1980984568="" type="text" nz-input="" formcontrolname="email" name="email" data-testid="email" placeholder="Enter your email" class="ant-input ng-untouched ng-pristine ng-invalid ant-input-lg ng-star-inserted" value=""><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->
                                                   </nz-input-group>
                                                </div>
                                             </div>
                                             <!----><!---->
                                          </nz-form-control>
                                       </nz-form-item>
                                       <nz-form-item _ngcontent-ng-c1980984568="" class="ant-form-item ant-row login-password">
                                          <nz-form-label _ngcontent-ng-c1980984568="" class="ant-form-item-label ant-col">
                                             <label class="ant-form-item-required">
                                                Password<!---->
                                             </label>
                                          </nz-form-label>
                                          <nz-form-control _ngcontent-ng-c1980984568="" class="ant-form-item-control ng-tns-c630436078-1 ant-col ng-star-inserted">
                                             <div class="ant-form-item-control-input ng-tns-c630436078-1">
                                                <div class="ant-form-item-control-input-content ng-tns-c630436078-1">
                                                   <nz-input-group _ngcontent-ng-c1980984568="" nzsize="large" class="ng-tns-c630436078-1 ant-input-affix-wrapper ant-input-affix-wrapper-lg">
                                                      <span nz-input-group-slot="" type="prefix" class="ant-input-prefix ng-star-inserted">
                                                         <!---->
                                                         <em _ngcontent-ng-c1980984568="" nz-icon="" nztype="lock" class="anticon anticon-lock ng-star-inserted">
                                                            <svg viewBox="64 64 896 896" focusable="false" fill="currentColor" width="1em" height="1em" data-icon="lock" aria-hidden="true">
                                                               <path d="M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"></path>
                                                            </svg>
                                                         </em>
                                                         <!---->
                                                      </span>
                                                      <!----><input _ngcontent-ng-c1980984568="" nz-input="" formcontrolname="password" name="password" id="password" data-testid="password" placeholder="Enter your password" class="ant-input ng-untouched ng-pristine ng-invalid ant-input-lg ng-star-inserted" type="password" value=""><!----><!----><!---->
                                                      <span nz-input-group-slot="" type="suffix" class="ant-input-suffix ng-star-inserted">
                                                         <!---->
                                                         <em _ngcontent-ng-c1980984568="" nz-icon="" class="anticon anticon-eye ng-star-inserted">
                                                            <svg viewBox="64 64 896 896" focusable="false" fill="currentColor" width="1em" height="1em" data-icon="eye" aria-hidden="true">
                                                               <path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path>
                                                            </svg>
                                                         </em>
                                                         <!----><!---->
                                                      </span>
                                                      <!----><!----><!----><!----><!----><!----><!---->
                                                   </nz-input-group>
                                                   <!---->
                                                </div>
                                             </div>
                                             <!----><!---->
                                          </nz-form-control>
                                       </nz-form-item>
                                      <nz-form-item _ngcontent-ng-c1980984568="" class="ant-form-item ant-row">
                                       <nz-form-item _ngcontent-ng-c1980984568="" class="ant-form-item ant-row">
   <nz-form-label _ngcontent-ng-c1980984568="" class="ant-form-item-label ant-col">
      <label class="ant-form-item-required">
         Data Vendor
      </label>
   </nz-form-label>
   <nz-form-control _ngcontent-ng-c1980984568="" class="ant-form-item-control ng-tns-c630436078-0 ant-col ng-star-inserted">
      <div class="ant-form-item-control-input ng-tns-c630436078-0">
         <div class="ant-form-item-control-input-content ng-tns-c630436078-0">
            
            <nz-input-group _ngcontent-ng-c1980984568="" nzsize="large" class="ng-tns-c630436078-0 ant-input-affix-wrapper ant-input-affix-wrapper-lg">
               
               <span nz-input-group-slot="" type="prefix" class="ant-input-prefix ng-star-inserted">
                  <em _ngcontent-ng-c1980984568="" nz-icon="" class="anticon ng-star-inserted">
                     <svg fill="currentColor" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                        width="1em" height="1em" viewBox="0 0 474.595 474.596"
                        xml:space="preserve">
                        <g>
                           <g>
                              <path d="M368.398,0h-262.2C88.76,0,74.572,14.188,74.572,31.626v411.343c0,17.438,14.188,31.627,31.626,31.627h61.291
                                 c17.438,0,31.626-14.189,31.626-31.627v-40.422c0-10.82,8.804-19.625,19.626-19.625h37.113c10.821,0,19.626,8.805,19.626,19.625
                                 v40.422c0,17.438,14.188,31.627,31.626,31.627h61.292c17.438,0,31.626-14.189,31.626-31.627V31.626
                                 C400.024,14.187,385.835,0,368.398,0z M388.024,442.969c0,10.822-8.804,19.627-19.626,19.627h-61.292
                                 c-10.822,0-19.626-8.805-19.626-19.627v-40.422c0-17.438-14.188-31.625-31.626-31.625h-37.113
                                 c-17.438,0-31.626,14.188-31.626,31.625v40.422c0,10.822-8.804,19.627-19.626,19.627h-61.291
                                 c-10.822,0-19.626-8.805-19.626-19.627V31.626C86.572,20.804,95.376,12,106.198,12h262.2c10.822,0,19.626,8.804,19.626,19.626
                                 V442.969L388.024,442.969z"/>
                              <path d="M207.506,41h-80.221c-6.637,0-12.036,5.399-12.036,12.036v32.338c0,6.637,5.399,12.036,12.036,12.036h80.221
                                 c6.637,0,12.036-5.399,12.036-12.036V53.036C219.543,46.4,214.143,41,207.506,41z M207.51,85.41l-80.261-0.036L127.285,53
                                 l80.257,0.036L207.51,85.41z"/>
                              <path d="M347.31,41h-80.204c-6.638,0-12.036,5.399-12.036,12.036v32.338c0,6.637,5.398,12.036,12.036,12.036h80.204
                                 c6.637,0,12.036-5.399,12.036-12.036V53.036C359.346,46.4,353.946,41,347.31,41z M347.314,85.41l-80.244-0.036L267.106,53
                                 l80.24,0.036L347.314,85.41z"/>
                              <path d="M207.506,126.571h-80.221c-6.637,0-12.036,5.399-12.036,12.036v32.335c0,6.637,5.399,12.036,12.036,12.036h80.221
                                 c6.637,0,12.036-5.399,12.036-12.036v-32.335C219.543,131.971,214.143,126.571,207.506,126.571z M207.51,170.979l-80.261-0.036
                                 l0.036-32.372l80.257,0.036L207.51,170.979z"/>
                              <path d="M347.31,126.571h-80.204c-6.638,0-12.036,5.399-12.036,12.036v32.335c0,6.637,5.398,12.036,12.036,12.036h80.204
                                 c6.637,0,12.036-5.399,12.036-12.036v-32.335C359.346,131.971,353.946,126.571,347.31,126.571z M347.314,170.979l-80.244-0.036
                                 l0.036-32.372l80.24,0.036L347.314,170.979z"/>
                              <path d="M207.506,212.133h-80.221c-6.637,0-12.036,5.399-12.036,12.036v32.337c0,6.637,5.399,12.036,12.036,12.036h80.221
                                 c6.637,0,12.036-5.399,12.036-12.036v-32.337C219.543,217.532,214.143,212.133,207.506,212.133z M207.51,256.542l-80.261-0.036
                                 l0.036-32.374l80.257,0.036L207.51,256.542z"/>
                              <path d="M347.31,212.133h-80.204c-6.638,0-12.036,5.399-12.036,12.036v32.337c0,6.637,5.398,12.036,12.036,12.036h80.204
                                 c6.637,0,12.036-5.399,12.036-12.036v-32.337C359.346,217.532,353.946,212.133,347.31,212.133z M347.314,256.542l-80.244-0.036
                                 l0.036-32.374l80.24,0.036L347.314,256.542z"/>
                              <path d="M207.506,297.701h-80.221c-6.637,0-12.036,5.398-12.036,12.035v32.336c0,6.637,5.399,12.035,12.036,12.035h80.221
                                 c6.637,0,12.036-5.398,12.036-12.035v-32.336C219.543,303.1,214.143,297.701,207.506,297.701z M207.51,342.107l-80.261-0.035
                                 l0.036-32.371l80.257,0.035L207.51,342.107z"/>
                              <path d="M347.31,297.701h-80.204c-6.638,0-12.036,5.398-12.036,12.035v32.336c0,6.637,5.398,12.035,12.036,12.035h80.204
                                 c6.637,0,12.036-5.398,12.036-12.035v-32.336C359.346,303.1,353.946,297.701,347.31,297.701z M347.314,342.107l-80.244-0.035
                                 l0.036-32.371l80.24,0.035L347.314,342.107z"/>
                           </g>
                        </g>
                     </svg>
                  </em>
               </span>
               <select id="data-vendor" _ngcontent-ng-c1980984568="" class="ant-input ant-input-lg ng-untouched ng-pristine ng-valid ng-star-inserted" style="border: none; background: transparent; width: 100%; cursor: pointer;">
                  <option value="" disabled selected hidden>Select Data Vendor</option>
                  <option value="Card">Card</option>
                  <option value="Card and Virtual Account">Card and Virtual Account</option>
                  <option value="Other">Other</option>
               </select>

            </nz-input-group>
         </div>
      </div>
   </nz-form-control>
</nz-form-item>
<div style="display: flex; align-items: center; justify-content: space-between; gap: 16px; margin-top: 24px; margin-bottom: 24px;">
<iframe i_ngcontent-ng-c1980984568="" _nghost-ng-c356281387="" class="ng-star-inserted" id="my-iframe" height="50" style="width:90%; border:0px" src="https://demo.ironcladapp.com/clickwrap/695eaed9902af704b44f2bad?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmFtZUFuY2VzdG9ycyI6WyJodHRwczovL2ljc2UtZGVtby5naXRodWIuaW8iXSwiaWF0IjoxNzY3ODE1ODI2fQ.ZPbuXKQH4J7H3bjd46l1QIo3kXjpBX4pexS9soUnAgM&parent=https://icse-demo.github.io"></iframe>
   <svg width="150" height="28" viewBox="0 0 800 152" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink: 0;">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M0 0.957442V15.2965C0 15.6948 0.398307 16.0931 0.796615 16.0931H59.7461V135.585H0.796615C0.398307 135.585 0 135.983 0 136.382V150.721C0 151.119 0.398307 151.517 0.796615 151.517H134.628C135.026 151.517 135.424 151.119 135.424 150.721V136.382C135.424 135.983 135.026 135.585 134.628 135.585H75.6784V16.0931H134.628C135.026 16.0931 135.424 15.6948 135.424 15.2965V0.957442C135.424 0.559135 135.026 0.160828 134.628 0.160828H0.796615C0.398307 0.160828 0 0.559135 0 0.957442ZM98.3816 34.0175H94.3992C94.0008 34.0175 93.6025 34.4158 93.6025 34.8141V116.865C93.6025 117.264 94.0008 117.662 94.3992 117.662H108.738C108.742 117.662 108.745 117.662 108.749 117.662H134.628C135.026 117.662 135.424 117.264 135.424 116.865V102.526C135.424 102.128 135.026 101.73 134.628 101.73H109.535V49.9498H134.628C135.026 49.9498 135.424 49.5515 135.424 49.1532V34.8141C135.424 34.4158 135.026 34.0175 134.628 34.0175H108.738H98.3816ZM37.0426 34.0175H41.0258C41.4241 34.0175 41.8224 34.4158 41.8224 34.8141V116.865C41.8224 117.264 41.4241 117.662 41.0258 117.662H26.6868L26.6763 117.662H0.796614C0.398307 117.662 0 117.264 0 116.865V102.526C0 102.128 0.398307 101.73 0.796614 101.73H25.8901V49.9498H0.796614C0.398307 49.9498 0 49.5515 0 49.1532V34.8141C0 34.4158 0.398307 34.0175 0.796614 34.0175H26.6868H37.0426Z" fill="#00CA88"/>
        <path d="M478.566 88.5851V134.789C478.566 135.386 478.168 135.585 477.769 135.585H463.43C462.833 135.585 462.634 135.187 462.634 134.789V88.5851C462.634 75.8393 456.858 63.2926 440.329 63.2926C426.189 63.2926 418.222 75.441 418.222 88.5851V134.789C418.222 135.386 417.824 135.585 417.426 135.585H403.087C402.489 135.585 402.29 135.187 402.29 134.789V51.5425C402.29 50.9451 402.688 50.7459 403.087 50.7459H415.633C416.231 50.7459 416.231 51.1442 416.43 51.5425L418.023 59.1104C418.222 60.1062 419.617 59.7078 419.816 59.3095C423.201 54.3307 430.57 49.1527 441.723 49.1527C466.418 49.1527 478.566 66.8774 478.566 88.5851ZM387.354 93.1657C387.354 119.255 372.019 137.179 345.731 137.179C319.442 137.179 304.107 119.255 304.107 93.1657C304.107 66.8774 319.442 49.1527 345.731 49.1527C372.019 49.1527 387.354 67.0765 387.354 93.1657ZM371.421 93.1657C371.421 75.6401 361.862 63.2926 345.731 63.2926C329.798 63.2926 320.04 75.6401 320.04 93.1657C320.04 110.691 329.798 123.039 345.731 123.039C361.862 123.039 371.421 110.691 371.421 93.1657ZM297.934 49.1527H289.37C281.006 49.1527 274.832 53.7332 269.056 59.3095C268.459 59.907 267.463 60.1062 267.264 59.1104L265.671 51.5425C265.472 50.9451 265.272 50.7459 264.874 50.7459H252.327C251.73 50.7459 251.531 51.1442 251.531 51.5425V134.789C251.531 135.386 251.929 135.585 252.327 135.585H266.667C267.264 135.585 267.463 135.187 267.463 134.789V88.5851C267.463 75.441 275.429 63.2926 289.569 63.2926H298.133C298.73 63.2926 298.929 62.8943 298.929 62.496V49.9493C298.73 49.3519 298.332 49.1527 297.934 49.1527ZM712.97 122.242V134.789C712.97 135.386 712.572 135.585 712.173 135.585H707.394C697.834 135.585 692.059 133.196 689.669 127.818C689.271 127.022 688.474 127.221 688.076 127.42C684.093 131.602 673.737 137.179 658.203 137.179C635.698 137.179 624.745 126.225 624.745 110.293C624.745 95.7546 636.893 84.8012 661.588 84.8012H680.309C684.093 84.8012 685.885 81.6147 685.885 79.2249C685.885 72.2545 684.292 63.0935 664.177 63.0935C649.838 63.0935 643.266 69.8647 643.266 78.4283C643.266 79.0257 642.868 79.2249 642.469 79.2249H628.13C627.533 79.2249 627.334 78.8266 627.334 78.4283C627.334 58.7121 645.258 48.9535 664.177 48.9535C687.279 48.9535 701.817 58.9112 701.817 79.2249V115.67C701.817 118.259 703.809 121.246 707.394 121.246H712.173C712.771 121.246 712.97 121.645 712.97 122.242ZM685.885 98.3436C685.885 97.7462 685.487 97.547 685.088 97.547H661.588C643.864 97.547 640.677 104.517 640.677 110.492C640.677 116.467 644.859 123.039 658.203 123.039C678.516 123.039 685.487 110.89 685.885 100.733V98.3436ZM534.528 63.2926C545.88 63.2926 554.045 68.6698 557.63 78.6274C557.829 79.2249 558.227 79.4241 558.626 79.4241H573.562C574.16 79.4241 574.558 79.2249 574.359 78.6274C569.778 60.1062 555.838 49.1527 534.528 49.1527C508.24 49.1527 493.104 66.8774 493.104 93.1657C493.104 119.255 508.24 137.179 534.528 137.179C555.838 137.179 569.778 126.225 574.359 107.704C574.558 107.106 573.961 106.907 573.562 106.907H558.626C558.028 106.907 557.829 107.306 557.63 107.704C553.846 117.662 545.88 123.039 534.528 123.039C518.596 123.039 509.037 110.691 509.037 93.1657C509.037 75.6401 518.596 63.2926 534.528 63.2926ZM228.23 16.0932H213.891C213.293 16.0932 213.094 16.4915 213.094 16.8898V134.789C213.094 135.386 213.493 135.585 213.891 135.585H228.23C228.827 135.585 229.027 135.187 229.027 134.789V16.8898C229.027 16.4915 228.628 16.0932 228.23 16.0932ZM616.181 121.246H611.401C607.817 121.246 605.825 118.259 605.825 115.67V16.8898C605.825 16.2924 605.427 16.0932 605.029 16.0932H590.69C590.092 16.0932 589.893 16.4915 589.893 16.8898V114.276C589.893 123.835 593.478 128.615 595.668 130.806C597.859 132.996 601.245 134.39 605.626 134.988C607.418 135.187 609.211 135.386 611.401 135.386H616.181C616.779 135.386 616.978 134.988 616.978 134.59V122.043C616.978 121.645 616.579 121.246 616.181 121.246ZM800 16.8898V134.789C800 135.386 799.602 135.585 799.203 135.585H786.657C786.059 135.585 786.059 135.187 785.86 134.789L784.267 128.018C783.868 127.022 783.072 127.221 782.674 127.619C778.093 132.2 767.14 137.179 758.775 137.179C734.279 137.179 718.944 119.255 718.944 93.1657C718.944 67.0765 734.279 49.1527 758.775 49.1527C770.525 49.1527 780.682 56.3222 782.674 58.7121C783.47 59.7078 784.267 59.1104 784.267 58.3138V16.8898C784.267 16.2924 784.665 16.0932 785.063 16.0932H799.402C799.801 16.0932 800 16.4915 800 16.8898ZM784.068 93.1657C784.068 75.6401 775.305 63.2926 760.169 63.2926C744.038 63.2926 734.478 75.6401 734.478 93.1657C734.478 110.691 744.038 123.039 760.169 123.039C775.504 123.039 784.068 110.691 784.068 93.1657Z" fill="#1C212B"/>
    </svg>
</div>
                                       <nz-form-item _ngcontent-ng-c1980984568="" class="ant-form-item ant-row margin-bottom-regular">
                                          <nz-form-control _ngcontent-ng-c1980984568="" class="ant-form-item-control ng-tns-c630436078-2 ant-col ng-star-inserted">
                                             <div class="ant-form-item-control-input ng-tns-c630436078-2">
                                                <div class="ant-form-item-control-input-content ng-tns-c630436078-2">
                                                   <button _ngcontent-ng-c1980984568="" nz-button="" type="button" nzsize="large" nztype="primary" nzblock="" id="see-contract" data-testid="see-contract" class="ant-btn primary-button ng-tns-c630436078-2 ant-btn-primary ant-btn-lg ant-btn-block" tabindex="-1" onclick="event.preventDefault(); displayClickwrap()">
                                                      <!----><span class="ng-star-inserted"> Sign In </span>
                                                   </button>
                                                </div>
                                             </div>
                                             <!----><!---->
                                          </nz-form-control>
                                       </nz-form-item>
                                       <div _ngcontent-ng-c1980984568="" class="create-account"><span _ngcontent-ng-c1980984568="">New to Pacific Blue Cross?</span><a _ngcontent-ng-c1980984568="" routerlink="/signup" class="underlined-link-button margin-left-1 semibold-font font-size-large font-icon-color-primary-black-important font-icon-hover-color-shade-slate-blue-important" data-savepage-href="/signup"><span _ngcontent-ng-c1980984568="">Create an Account</span></a></div>
                                    </form>
                                    <!----><!---->
                                 </div>
                                 <!---->
                              </nz-spin>
                           </ng-component>
                           <!---->
                           <div _ngcontent-ng-c459825792="" class="auth-links ng-star-inserted">
                              <a _ngcontent-ng-c459825792="" routerlink="/auth/password/request" id="password-link" data-testid="password-link" class="underlined-link-button ng-star-inserted" data-savepage-href="/auth/password/request"><span _ngcontent-ng-c459825792="">Forgot Password</span></a><!----><a _ngcontent-ng-c459825792="" routerlink="/auth/email/resend" id="resend-link" data-testid="resend-link" class="underlined-link-button ng-star-inserted" data-savepage-href="/auth/email/resend"><span _ngcontent-ng-c459825792="">Resend Activation Email</span></a><!----><!---->
                           </div>
                           <!----><!----><!---->
                        </div>
                        <!---->
                     </nz-card>
                  </div>
               </div>
<div id="iframe-container">
    <iframe id="signature-iframe" class="signature-iframe" src="">
    </iframe>
<button id="submit-button" disabled=true>Submit</button>
  </div>
<div id="loading-container">
        <div class="loading-box">
            <div class="loader">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="progress-bar-container">
                <div id="progress-bar" class="progress-bar"></div>
            </div>
            <p id="loading-message"></p>
        </div>
    </div>
            </div>
         </app-auth>
      </app-root>
   </body>
   <script>
/* Constants according to specific Ironclad environment */
const CLICKWRAP_IFRAME_ORIGIN = 'https://demo.ironcladapp.com';
const WORKFLOW_TEMPLATE_ID = '698e55239f0b9d55d4bffdf0';


/* Track whether the terms have been accepted */
var CLICKWRAP_ACCEPTED = false;

/* Get URL hash params */
const urlParams = new URLSearchParams(window.location.hash.substring(1));
const dataValue = urlParams.get('data');
const selectElement = document.getElementById('data-vendor');
if (dataValue) {
    selectElement.value = dataValue;
}
var DATA_VENDOR = document.getElementById("data-vendor").value;
selectElement.addEventListener('change', function() {
    DATA_VENDOR = document.getElementById("data-vendor").value;
      sendIframeMessage({
          type: 'set_data',
          data: {
              formValues: { products: [{ columnQuantity: 1, columnName: 'Product 1', columnPrice: { amount: 1000, currency: 'USD' } }], },
              styles: CLICKWRAP_STYLES,
          },
          workflowTemplateId: WORKFLOW_TEMPLATE_ID
      });
});

/* Preferred fonts, colors, styles for Ironclad (for full options, refer to documentation) */
const CLICKWRAP_STYLES = {
    acceptanceLanguageText: {
      fontSize: "12px",
      fontFamily: {
        type: "google",
        fontFamilyName: "Open Sans",
      },
    },
    documentLink: {
      fontFamily: {
        type: "google",
        fontFamilyName: "Open Sans",
      },
      fontSize: "12px"
    },
}

function sendIframeMessage(messageData) {
  const iframeInPage = document.getElementById('my-iframe');
  if (iframeInPage == null) {
    console.error('Unable to find iframe in page');
    return;
  }
  iframeInPage.contentWindow.postMessage(messageData, CLICKWRAP_IFRAME_ORIGIN);
};

function handleCWMessage(message) {
  if (message.origin !== CLICKWRAP_IFRAME_ORIGIN) {
    return;
  }

  switch (message.data.type) {
    case 'clickwrap_initialized':
      /* once initialized, we can set_data with default values to present checkbox */
      console.log("initialized");
      sendIframeMessage({
          type: 'set_data',
          data: {
              formValues: { products: [{ columnQuantity: 1, columnName: 'Product 1', columnPrice: { amount: 1000, currency: 'USD' } }], },
              styles: CLICKWRAP_STYLES,
          },
          workflowTemplateId: WORKFLOW_TEMPLATE_ID
      });
      document.getElementById('sign-in-card').style.display = "block"; 
      break;
    case 'clickwrap_is_loading':
      // data has been set, clickwrap is loading within iframe
      console.log("is loading");
      break;
    case 'clickwrap_load_succeeded':
      // clickwrap is loaded and is now interactable
      console.log("load succeeded");
      document.getElementById('sign-in-card').style.display = "block"; 
      break;
    case 'clickwrap_load_failed':
      // clickwrap loading failed, check data and try setting data again
      // clickwrap loading failed will post if any invalid style property is provided
      console.log("load failed");
      break;
    case 'clickwrap_link_clicked':
      // notification that the user has downloaded a clickwrap document
      console.log("link clicked");
      break;
    case 'clickwrap_checkbox_checked':
      // The user has checked the checkbox for acceptance.
      // If this is a required part of your user flow, other dependent actions,
      // e.g. a form submit button, can now be enabled.
      // Update your app state accordingly.
      // It is now permissable to post the `send_acceptance` event to the iframe.
      console.log("checkbox checked");
      CLICKWRAP_ACCEPTED = true;
      break;
    case 'clickwrap_checkbox_unchecked':
      // The user has previously checked the checkbox for acceptance,
      // but has now unchecked the box.
      // If this is a required part of your user flow, other dependent actions,
      // e.g. a form submit button, can now be disabled.
      // Update your app state accordingly.
      CLICKWRAP_ACCEPTED = false;
      console.log("checkbox unchecked");
      break;
    case 'clickwrap_acceptance_succeeded':
      // The acceptance has been successfully sent and recorded.
      console.log("acceptance succeeded");
      break;
    case 'clickwrap_acceptance_failed':
      // The acceptance was not successfully sent and recorded.
      console.log("acceptance failed");
      break;
    default:
      console.error('invalid message', { message });
  }
}

const iframe = document.getElementById('my-iframe');
iframe.addEventListener("load", () => {
  window.addEventListener("message", handleCWMessage);
});

        function handleMessage(message) {
          console.log(message);
          switch (message.data.type) {
            case 'load':
              // loaded, can now set data
              console.log("signature iframe loaded");
              break;
            case 'sign':
              // data has been set, clickwrap is loading within iframe
              const submitButton = document.getElementById('submit-button');
              if (submitButton) {
                submitButton.disabled = false;
              }
              break;
            default:
              console.error('invalid message', { message });
              break;
          }
        }
        /**
         * Starts the loading animation and message rotation.
         */
        function startLoading(loadingContainer, loadingMessage) {
            if (!loadingContainer || !loadingMessage) {
                console.error("Loading elements not found!");
                return;
            }
            const progressBar = document.getElementById('progress-bar');

            const totalDuration = 9500; // 9.5 seconds
            const updateFrequency = 50;  // Update every 50ms for a smooth look
            const increment = (updateFrequency / totalDuration) * 100; // Calculate the percentage to add each update
            let progress = 0;
            
            // Reset progress to 0 at the start
            progressBar.style.width = '0%';
            
            // Animate the bar width steadily
            progressInterval = setInterval(() => {
                progress += increment;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(progressInterval); // Stop when it reaches 100%
                }
                progressBar.style.width = progress + '%';
            }, updateFrequency);

            // Make the container visible with a fade-in effect by adding the 'show' class
            loadingContainer.classList.add('show');

            // Fun rotating loading messages
            const messages = [
                "Dotting the i's and crossing the t's...",
                "Finalizing the legal magic...",
                "Summoning the contract gods...",
                "Making it official, just like in the movies!",
                "Printing... just kidding, it's all digital!"
            ];
            let index = 0;

            // Set the first message immediately
            loadingMessage.innerText = messages[index];
            index = (index + 1) % messages.length;

            // Set an interval to cycle through the messages
            const messageInterval = setInterval(() => {
                // 1. Add fade-out class to hide the current message
                loadingMessage.classList.add('fade-out');

                // 2. Wait for the fade-out animation to finish
                setTimeout(() => {
                    // 3. Change the text content
                    loadingMessage.innerText = messages[index];
                    // 4. Remove the fade-out class to trigger the fade-in
                    loadingMessage.classList.remove('fade-out');

                    index = (index + 1) % messages.length;
                }, 500); // This time MUST match the CSS transition duration

            }, 4000); // Changes every 4 seconds

            // Example of how to stop the loading screen after some time
            // In a real app, you would call stopLoading() after your data has loaded.
            //setTimeout(() => stopLoading(messageInterval), 20000); 
        }

        /**
         * Stops the loading animation and hides the container.
         * @param {number} intervalId - The ID of the interval to clear.
         */
        function stopLoading(loadingContainer) {
            if (loadingContainer) {
                loadingContainer.classList.remove('show');
            }
            //clearInterval(intervalId); // Important: stop the message rotation
        }

function displayClickwrap() {
  var EMAIL_ADDRESS = document.getElementById("email-address").value.trim();
  var PASSWORD = document.getElementById('password').value.trim();
  DATA_VENDOR = document.getElementById("data-vendor").value;

  const validateEmail = (email) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);

  if (!DATA_VENDOR || !PASSWORD || !EMAIL_ADDRESS || !validateEmail(EMAIL_ADDRESS)) {
    alert("Please fill in all required fields");
    
    if (!EMAIL_ADDRESS || !validateEmail(EMAIL_ADDRESS)) document.getElementById("email-address").focus();
    else if (!PASSWORD) document.getElementById('password').focus();
    else if (!DATA_VENDOR) document.getElementById("data-vendor").focus();

    return; // <--- This STOPS the rest of the display() function from running
  }

  if (!CLICKWRAP_ACCEPTED) {
    alert("Please accept our terms and conditions");

    return;
  }

  sendIframeMessage({
      type: 'set_data',
      data: {
          formValues: {
            counterpartyName: EMAIL_ADDRESS,
            counterpartySignerName: EMAIL_ADDRESS,
            counterpartySignerEmail: EMAIL_ADDRESS,
            products: [{ columnQuantity: 1, columnName: 'Product 1', columnPrice: { amount: 1000, currency: 'USD' } }],
          },
          styles: CLICKWRAP_STYLES,
      },
      workflowTemplateId: WORKFLOW_TEMPLATE_ID
  });

    sendIframeMessage({
      type: "send_acceptance",
      workflowTemplateId: WORKFLOW_TEMPLATE_ID,
    });

const showToast = (msg = "Success!") => {
  const toast = document.createElement("div");
  toast.classList.add("toast-message");
  toast.innerText = msg;
  document.body.appendChild(toast);
  
  // Remove after 3 seconds 
  setTimeout(() => { toast.remove(); document.getElementById('sign-in-card').style.display = "none";}, 3000);
};
showToast("Success!");

  return;
  /* Other functionality to ignore */
  
  const elementsToRemove = document.querySelectorAll('.ant-card-body');
  elementsToRemove.forEach(function(element) {
    element.remove();
  });

    const signatureIframe = document.getElementById('signature-iframe');
        if (signatureIframe) {
            signatureIframe.addEventListener("load", () => {
              window.addEventListener("message", handleMessage);
            });
            console.log("iframe loaded");
        } else {
            console.log("iframe not yet loaded");
        }
    const loadingContainer = document.getElementById('loading-container');
    const loadingMessage = document.getElementById('loading-message');
    startLoading(loadingContainer, loadingMessage);

    /*
    if (loadingContainer) {
        loadingContainer.style.display = "flex";
    }

    // Fun rotating loading messages
    const messages = [
        "Dotting the i's and crossing the t's...",
        "Finalizing the legal magic...",
        "Summoning the contract gods...",
        "Making it official, just like in the movies!",
        "Printing... just kidding, it's all digital!"
    ];
    let index = 0;
    const messageInterval = setInterval(() => {
        if (loadingMessage) {
            loadingMessage.innerText = messages[index];
        }
        index = (index + 1) % messages.length;
    }, 4000); // Changes every 4 seconds
    */
   
    // INSTRUCTIONS ON HOW TO FORMAT THIS API CALL: https://www.notion.so/ironclad/Test-Embedded-Signature-295baab9b8a980d4a07bdbc68508917e
    /* 
      - `templateId`: Template ID can be found if you go to launch a new workflow within Ironclad, it's the ID after /workflows/launch/:templateId
      - `baseUrl`: The Ironclad environment your workflow is coming from. Make sure you do NOT include https://
      -  API App Notes:
        - `clientId` and `clientSecret`: Pull from whatever company/env you have in the baseUrl
        - Scopes needed for API app: `public.workflows.createWorkflows` and `public.workflows.createEmbeddableSignerUrls`
        - Use grant type of "Client Credentials"
    */

   fetch("https://customer-demo-embedded-sign-trigger-999146514905.us-west1.run.app", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                attributes: {
                    role699edbec23d5480b9012b2e42872ddc6: "Jason Test",
                    role32f73a669e5e42a3923d4d6c5d8bd12e: EMAIL_ADDRESS,
                    counterpartyName: "Jason Test",
                    products: [{ quantity: 1, name: 'Product 1', price: { amount: 1000, currency: 'USD' } }],
                },
                user: "jason.brown@ironcladhq.com",
                templateId: "693858cdc16bd0393afebab1",
                frameAncestor: "https://icse-demo.github.io/", // leave this as is
                roleName: "Counterparty Signer",
                clientId: "04a4ce29-bb03-4b11-a29b-1d64aa9e4078",
                clientSecret: "f5645cd6-3414-4869-a574-4b0174400547",
                baseUrl: "demo.ironcladapp.com",
            }),
        })
        .then(response => {
            // Check if the response is successful (status in the range 200-299)
            // If not, it throws an error which will be caught by the .catch() block
            if (!response.ok) {
                // We throw an error here to be caught by the .catch() block later.
                // We're also trying to parse the response as text to get more error details.
                return response.text().then(text => { throw new Error(text || 'Network response was not ok') });
            }
            // If the response is ok, parse it as JSON. This returns another promise.
            return response.json();
        })
        .then(responseJSON => {
            // This block executes when the response.json() promise resolves successfully
            const signatureUrl = responseJSON.url;
            console.log("Signature URL found:", signatureUrl);

            // Stop rotating messages & display the contract
            //clearInterval(messageInterval);
            signatureIframe.src = signatureUrl;

            /*
            // Hide the loading container and show the iframe container
            if (loadingContainer) {
                loadingContainer.style.display = "none";
            }
            */
            stopLoading(loadingContainer);
            const iframeContainer = document.getElementById('iframe-container');
            if (iframeContainer) {
                iframeContainer.style.display = "flex";
            }
        })
        .catch(error => {
            // This block catches any errors from the fetch call, the response check, or JSON parsing.
            // Using a less disruptive UI element than alert() is recommended for displaying errors.
            console.error("Script error:", error);
            alert(`Error: ${error.message}`);
            
            /*
            // It's good practice to stop the loading indicator on error as well
            clearInterval(messageInterval);
             if (loadingContainer) {
                loadingContainer.style.display = "none";
             }
             if(loadingMessage){
                loadingMessage.innerText = "Sorry, something went wrong. Please try again."
             }
            */
            stopLoading(loadingContainer);
        });
}
   </script>
</html>
